{"version":3,"file":"static/webpack/static/development/pages/user.js.02d5c525e5985830cac5.hot-update.js","sources":["webpack:///./pages/user.js"],"sourcesContent":["/* Third Party */\nimport React, { Component } from 'react'\nimport { Grid, Row, Col } from 'react-styled-flexboxgrid'\nimport styled from 'styled-components'\nimport { bindActionCreators } from 'redux'\nimport { connect } from 'react-redux'\nimport Router from 'next/router'\nimport 'isomorphic-fetch'\n\nimport {\n    populateRepos\n} from '../redux/modules/store'\nimport RepoCard from '../components/RepoCard'\n\n\nconst PaddedCol = styled(Col)`\n    padding-left: 3rem;\n`\n\nconst UserImg = styled.img`\n    border-radius: 0.2rem 0.2rem 0rem 0rem;\n    opacity: 1;\n    height: 10rem;\n`\n\nconst Username = styled.p`\n    color: black;\n    font-size: 3rem;\n    margin: 1rem;\n`\n\nconst RepoCount = styled(Username)`\n    color: gray;\n    font-size: 1.5rem;\n    margin: 0rem 1rem;\n\n`\n\nclass User extends Component {\n\n    static async getInitialProps({ store, pathname, asPath}) {\n        const { currentUser } = store.getState()\n        console.log(currentUser)\n        // make repos api call here\n        const urlRequest = currentUser.repos_url\n        await fetch(urlRequest)\n            .then(res => res.json())\n            .then(repos => {\n                store.dispatch(populateRepos(repos))\n            })\n        return { pathname, asPath }\n    }\n\n    render () {\n        const {\n            props\n        } = this\n\n        const {\n            pathname,\n            asPath,\n            currentUser,\n            repos\n        } = props\n\n        console.log('currentUser: ', currentUser)\n        console.log('repos: ', repos)\n\n        const avatarUrl = currentUser.avatar_url\n        const username = currentUser.login\n        return (\n            <Grid>\n                <Row start='xs'>\n                    <Col>\n                        <UserImg src={avatarUrl} />\n                    </Col>\n\n                    <PaddedCol>\n                        <Row>\n                            <Username> {username} </Username>\n                        </Row>\n                        <Row>\n                            <RepoCount> {repos.length} Repositories </RepoCount>\n                        </Row>\n                    </PaddedCol>\n                </Row>\n                    { repos && repos.map((repo, i) => {\n                        return (\n                            <Row>\n                                <Col>\n                                    <RepoCard\n                                        repo={repo}\n                                    />\n                                </Col>\n                            </Row>\n                        )\n                    })}\n            </Grid>\n        )\n    }\n}\n\nexport const mapStateToProps = (state) => {\n    return { ...state }\n}\n\nexport const mapDispatchToProps = (dispatch) => {\n    return {\n        populateRepos: bindActionCreators(populateRepos, dispatch)\n    }\n}\n\nexport default connect(mapStateToProps)(User)"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAGA;AAIA;AAMA;AAMA;AACA;AAMA;;;;;;;;;;;;;AAeA;AAAA;AAAA;AAAA;AAAA;AAAA;AAYA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AAGA;;;;;;;;;;;;;AA3DA;AACA;AACA;AACA;AACA;;AACA;AACA;AAAA;AAEA;AACA;AACA;;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AAbA;AACA;AA+DA;AACA;AACA;AAEA;AACA;AACA;AADA;AAGA;AAEA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}